---
title: webpack简易笔记
tags: 前端
categories: 学习
toc:
  showListNumber: false
  maxDepth: 6
  minDepth: 1
banner_img: /img/webpack学习/banner.jpg
date: 2023-03-13 17:29:50
---

持续更新中
不得不说上班摸鱼是一件快乐的事情
## 开始
众所周知，vue-cli和create-react-app都是内置webpack进行打包
那么这个这么重要的东西是什么，官网是这样定义的
> webpack 是一个用于现代 JavaScript 应用程序的 *静态模块*打包工具。当 webpack 处理应用程序时，它会在内部从一个或多个入口点构建一个 依赖图(dependency graph)，然后将你项目中所需的每一个模块组合成一个或多个 bundles[^1]，它们均为静态资源，用于展示你的内容。

（好的，看到官网这种不说人话的风格是真的发晕，也就贴上来镇场子）

[^1]: bundles是webpack打包后生成的文件，它们包含了经过加载和编译的源代码。一个bundle可以由一个或多个模块（module）组成，模块是webpack处理项目中的不同类型的文件的基本单位。

## 为什么使用webpack
首先，模块化开发是历史的趋势，不解释
那模块化开发，总得引入模块呀，所以随着不同模块化规范的出现，引入模块的语法也出现了好几种，最常见的两个：
```JavaScipt
// CommonJS
const path = require('path')

// ES6
import Vue from 'vue'
```
那分成了不同模块，运行代码的时候得有人做类似编译链接的事情呀，不然鬼知道依赖树有多高有多大
所以构建工具就成了必不可少的了，webpack就是其中之一
加上对于模块化开发来说有个坏消息，就是上面这些引入模块的语法刚面世的时候浏览器不双标，几乎一视同仁的不支持
所以构建工具还得肩负起把这些高级语法转换成ES5语法，这才能让浏览器执行。

## 入门
稍微详细点说，webpac打包的时候做了这些事:
- 解析入口文件
- 递归分析依赖，生成抽象语法树
- 根据入口和依赖模块生成 chunk（有点类似手动的分包，打包完后这些chunk是可以按需下载，也可以并行下载加快加载速度）
- 把每个模块进行转换，这里的模块除了js还包含css、图片等等，但webpack本身是只认识js和json的，所以在这一步中,webpack会按顺序链式调用所有配置好的Loader对模块进行处理。此外这一步还包括把js转译成ES5语法，对代码进行压缩等等
- 对每个 chunk 进行优化、整合、拆分、去重等操作，生成最终的资源文件（assets）
- 输出资源文件到指定的目录中

然后就得到熟悉的dist目录啦
但是为什么上面的全是抽象的名词捏，还是需要更详细点的过程解析（晕）

